<!-- app/views/pages/home.html.erb -->

<!DOCTYPE html>
<html>
  <head>
    <title>Головна сторінка</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all' %>
    <%= javascript_include_tag 'application' %>
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
  <div class="jumbotron">
    <h1 class="display-4"><%= t('welcome.title') %></h1>
    <p class="lead"><%= t('welcome.description') %></p>
    <hr class="my-4">
    <p><%= t('welcome.register_now') %></p>
    <%= link_to t('welcome.register_button'), new_user_registration_path, class: 'btn btn-primary btn-lg' %>
  </div>

  <div class="search mb-4">
    <h2><%= t('search.title') %></h2>
    <%= form_with url: search_posts_path, method: :get, local: true do %>
      <div class="form-group">
        <%= text_field_tag :query, params[:query], placeholder: t('search.placeholder'), class: 'form-control' %>
      </div>
      <%= submit_tag t('search.button'), class: 'btn btn-primary' %>
    <% end %>
  </div>

  <div class="about mb-4">
    <h2><%= t('about.title') %></h2>
    <p><%= t('about.description') %></p>
  </div>

  <div class="latest-posts">
    <h2><%= t('latest_posts.title') %></h2>
    <% @latest_posts.each do |post| %>
      <div class="card mb-3">
        <div class="card-body">
          <h3 class="card-title"><%= link_to post.title, post_path(post) %></h3>
          <p class="card-text"><%= truncate(post.content, length: 100) %></p>
          <p class="card-text"><strong><%= t('latest_posts.category') %>:</strong> <%= post.category.name %></p>
          <p class="card-text"><strong><%= t('latest_posts.author') %>:</strong> <%= post.user.nickname %></p>
        </div>
      </div>
    <% end %>
  </div>

  

</body>

</html>
